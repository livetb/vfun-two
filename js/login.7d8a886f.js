(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"4fde":function(t,e,i){"use strict";var n=i("7ce0"),s=i.n(n);s.a},"565f":function(t,e,i){"use strict";var n=i("2638"),s=i.n(n),r=i("c31d"),o=i("ad06"),a=i("7744"),l=i("dfaf"),c=i("1325"),u=i("a142");function h(){return!u["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var g=i("a8c1"),d=h();function f(){d&&Object(g["e"])(Object(g["b"])())}var p=i("d282"),v=i("ea8e"),m=Object(p["a"])("field"),b=m[0],w=m[1];e["a"]=b({inheritAttrs:!1,props:Object(r["a"])({},l["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(r["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(v["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,i=e.value,n=this.$attrs.maxlength;return"number"===this.type&&Object(u["b"])(n)&&i.length>n&&(i=i.slice(0,n),t.value=i),i}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),f()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(c["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf("."),n=e>=48&&e<=57||46===e&&i||45===e;n||Object(c["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u["c"])(this.autosize)){var i=this.autosize,n=i.maxHeight,s=i.minHeight;n&&(e=Math.min(e,n)),s&&(e=Math.max(e,s))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:w("control",this.inputAlign)},[e]);var i={ref:"input",class:w("control",this.inputAlign),domProps:{value:this.value},attrs:Object(r["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",s()([{},i])):t("input",s()([{attrs:{type:this.type}},i]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:w("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(o["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:w("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(o["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:w("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],i=this.slots,n=this.labelAlign,s={icon:this.renderLeftIcon};return i("label")&&(s.title=function(){return i("label")}),e(a["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[w("label",n),this.labelClass],arrowDirection:this.arrowDirection},class:w((t={error:this.error},t["label-"+n]=n,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:s,on:{click:this.onClick}},[e("div",{class:w("body")},[this.renderInput(),this.showClear&&e(o["a"],{attrs:{name:"clear"},class:w("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),i("button")&&e("div",{class:w("button")},[i("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:w("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},7744:function(t,e,i){"use strict";var n=i("c31d"),s=i("2638"),r=i.n(s),o=i("d282"),a=i("a142"),l=i("dfaf"),c=i("ba31"),u=i("48f4"),h=i("ad06"),g=Object(o["a"])("cell"),d=g[0],f=g[1];function p(t,e,i,n){var s=e.icon,o=e.size,l=e.title,g=e.label,d=e.value,p=e.isLink,v=e.arrowDirection,m=i.title||Object(a["b"])(l),b=i.default||Object(a["b"])(d),w=i.label||Object(a["b"])(g),y=w&&t("div",{class:[f("label"),e.labelClass]},[i.label?i.label():g]),C=m&&t("div",{class:[f("title"),e.titleClass],style:e.titleStyle},[i.title?i.title():t("span",[l]),y]),O=b&&t("div",{class:[f("value",{alone:!i.title&&!l}),e.valueClass]},[i.default?i.default():t("span",[d])]),k=i.icon?i.icon():s&&t(h["a"],{class:f("left-icon"),attrs:{name:s}}),L=i["right-icon"],x=L?L():p&&t(h["a"],{class:f("right-icon"),attrs:{name:v?"arrow-"+v:"arrow"}});function j(t){Object(c["a"])(n,"click",t),Object(u["a"])(n)}var S=p||e.clickable,$={clickable:S,center:e.center,required:e.required,borderless:!e.border};return o&&($[o]=o),t("div",r()([{class:f($),attrs:{role:S?"button":null,tabindex:S?0:null},on:{click:j}},Object(c["b"])(n)]),[k,C,O,x,i.extra&&i.extra()])}p.props=Object(n["a"])({},l["a"],{},u["c"]),e["a"]=d(p)},"7ce0":function(t,e,i){},"7f75":function(t,e,i){},"8a4e":function(t,e,i){"use strict";i("3cd0")},"8f48":function(t,e,i){t.exports=i.p+"img/vfun-bg.6ad40ac8.jpg"},"9eda":function(t,e,i){"use strict";i("3cd0"),i("5cc2"),i("7f75")},a55b:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-page"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showManulLogin,expression:"showManulLogin"}],staticClass:"new-login"},[n("div",{staticClass:"bg-wrap"},[n("img",{attrs:{src:i("8f48")}})]),n("div",{staticClass:"content"},[n("h1",[t._v("Signup/ Login")]),n("div",{staticClass:"methods"},[n("div",{staticClass:"method",on:{click:t.loginByGoogle}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M22.7083 11.8497C22.7083 11.0623 22.6444 10.2707 22.5082 9.49609H11.5829V13.9565H17.8393C17.5797 15.395 16.7455 16.6676 15.524 17.4762V20.3704H19.2566C21.4485 18.353 22.7083 15.3737 22.7083 11.8497Z",fill:"#4285F4"}}),n("path",{attrs:{d:"M11.583 23.1666C14.7069 23.1666 17.3414 22.1409 19.2609 20.3703L15.5283 17.4762C14.4899 18.1827 13.1492 18.5828 11.5872 18.5828C8.56539 18.5828 6.00324 16.5441 5.08393 13.8032H1.23218V16.7867C3.19848 20.6981 7.20345 23.1666 11.583 23.1666Z",fill:"#34A853"}}),n("path",{attrs:{d:"M5.07963 13.8033C4.59443 12.3648 4.59443 10.8071 5.07963 9.36852V6.38501H1.23213C-0.410711 9.65793 -0.410711 13.5139 1.23213 16.7869L5.07963 13.8033Z",fill:"#FBBC04"}}),n("path",{attrs:{d:"M11.583 4.58457C13.2343 4.55904 14.8303 5.18042 16.0263 6.32105L19.3333 3.01408C17.2393 1.04777 14.4601 -0.033268 11.583 0.000780559C7.20345 0.000780559 3.19848 2.4693 1.23218 6.38489L5.07967 9.3684C5.99473 6.62323 8.56114 4.58457 11.583 4.58457Z",fill:"#EA4335"}})])]),n("strong",{staticClass:"title"},[t._v("Google")])]),n("div",{staticClass:"method",on:{click:t.loginByFacebook}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{width:"12",height:"22",viewBox:"0 0 12 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M11.316 0.00440392L8.49561 0C5.32698 0 3.27927 2.04452 3.27927 5.20895V7.61063H0.443482C0.198435 7.61063 0 7.80396 0 8.04243V11.5222C0 11.7607 0.198662 11.9538 0.443482 11.9538H3.27927V20.7343C3.27927 20.9728 3.47771 21.1659 3.72276 21.1659H7.42266C7.66771 21.1659 7.86614 20.9726 7.86614 20.7343V11.9538H11.1818C11.4269 11.9538 11.6253 11.7607 11.6253 11.5222L11.6267 8.04243C11.6267 7.92793 11.5798 7.81827 11.4968 7.73724C11.4138 7.65621 11.3006 7.61063 11.183 7.61063H7.86614V5.5747C7.86614 4.59615 8.10576 4.09939 9.41561 4.09939L11.3156 4.09872C11.5604 4.09872 11.7588 3.90539 11.7588 3.66714V0.435988C11.7588 0.197956 11.5606 0.00484431 11.316 0.00440392Z",fill:"#3B5998"}})])]),n("strong",{staticClass:"title"},[t._v("Facebook")])]),n("div",{staticClass:"method",on:{click:t.loginByAnonymous}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{t:"1610108074921",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5065",width:"24",height:"24"}},[n("path",{attrs:{d:"M521.165 55.165C269.267 55.165 64.33 260.102 64.33 512c0 251.898 204.937 456.835 456.835 456.835C773.063 968.835 978 763.898 978 512c0-251.898-204.937-456.835-456.835-456.835zM260.792 844.946c73.512-59.267 213.423-88.631 214.93-88.94l16.061-3.313-12.193-72.285-4.299-3.942c-52.854-48.514-109.237-116.233-109.237-306.828 0-90.969 68.401-143.798 135.963-148.97 57.063-4.216 128.842 27.191 144.62 129.647 28.037 246.188-88.703 323.527-89.798 324.224l-8.051 4.981v76.833h45.251c70.287 12.74 151.038 65.376 185.775 89.931-71.547 55.485-161.307 88.554-258.649 88.554-98.124 0-188.547-33.599-260.373-89.892z m545.868-21.312c-31.98-23.308-124.666-86.495-208.214-101.028l-15.662-0.249v-24.71c29.15-23.049 124.252-117.437 97.542-351.838-19.389-126.111-109.635-164.408-180.899-159.038-81.141 6.209-167.371 72.41-167.371 182.867 0 180.152 46.165 262.307 115.935 327.877l4.864 28.826c-41.608 10.051-153.353 40.946-218.326 96.244C150.827 745.278 98.327 634.657 98.327 512c0-233.156 189.681-422.837 422.838-422.837 233.156 0 422.838 189.681 422.838 422.837 0 123.213-52.977 234.28-137.343 311.634z","p-id":"5066"}})])]),n("strong",{staticClass:"title"},[t._v("Anonymous (No Record)")])])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showManulLogin,expression:"!showManulLogin"}],staticClass:"login-loading"},[n("div",{staticClass:"loader"},[n("van-loading",{attrs:{size:"30px",vertical:""}},[t._v("Loading...")])],1)]),n("van-overlay",{staticClass:"login-overlay",attrs:{show:t.showLoginOverlay}},[n("van-loading",{attrs:{size:"24px",vertical:""}},[t._v("Loading...")])],1)],1)},s=[],r=(i("a4d3"),i("4de4"),i("4160"),i("1d1c"),i("7a82"),i("e439"),i("dbb4"),i("b64b"),i("ac1f"),i("5319"),i("159b"),i("96cf"),i("89ba")),o=i("2fa7"),a=(i("9eda"),i("565f")),l=(i("c625"),i("b650")),c=(i("8a4e"),i("6e47")),u=(i("bca0"),i("543e")),h=i("8bbf"),g=i.n(h),d=i("260b"),f=(i("ea7b"),i("a49b")),p=i("5880"),v=i("af82");function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(i,!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}try{d["a"].initializeApp(f["b"])}catch(k){console.log("FirebaseInitError: ",d["a"].initializeApp(f["b"],"login"))}g.a.use(a["a"]).use(l["a"]).use(u["a"]).use(c["a"]).use(u["a"]);var w={name:"login",data:function(){return{showManulLogin:!1,email:"",password:"",showPass:!1,showLoginOverlay:!1,oldUser:JSON.parse(localStorage.getItem("user")||"{}")}},created:function(){console.log("Region => ",d["a"].auth().languageCode),d["a"].auth().onAuthStateChanged((function(t){t&&localStorage.setItem("user",JSON.stringify(t)),console.log("Firebase User => ",t)})),this.showLoginPage()?this.showManulLogin=!0:(this.showManulLogin=!1,this.loginByAnonymous())},methods:b({},Object(p["mapActions"])(["login","logout"]),{showLoginPage:function(){var t=window.location.href,e=/inTest/gi.test(t)||/manul/gi.test(t)||/fromHome/gi.test(t);return e},tracking:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("profile")||"{}"),i=JSON.parse(localStorage.getItem("trackInfo")||"{}"),e.uid&&i.source){t.next=5;break}return console.log("no trackinfo => ",e,i),t.abrupt("return");case 5:if(!this.oldUser.isAnonymous){t.next=8;break}return console.log("Already Tracking, return"),t.abrupt("return");case 8:return t.next=10,v["q"](e.uid,i.source,i.refby);case 10:n=t.sent,s=n.status,r=n.data,console.log("Tracking: ",s," => ",r);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loginSuccess:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.setItem("isManulLogin",this.showManulLogin),this.$router.replace("/home?fromLogin"),t.next=4,this.tracking();case 4:this.showLoginOverlay=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loginByAnonymous:function(){var t=this,e=this.oldUser.isAnonymous;if(e)return console.log("Alredy Anonymous, to home."),localStorage.setItem("isManulLogin",this.showManulLogin),void this.$router.replace("/home");this.showManulLogin&&(this.showLoginOverlay=!0),d["a"].auth().signInAnonymously().then(function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(n){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log("signInAnonymously",n.user),s=n.user,i.next=4,t.login({user:s,method:{type:"anonymous",id:""},isUpdate:e});case 4:return i.next=6,t.loginSuccess();case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(e){t.showLoginOverlay=!1,t.$toast(e.message)}))},loginByEmail:function(){var t=this;if(this.email)if(this.password){var e=this.oldUser.isAnonymous;this.showLoginOverlay=!0,d["a"].auth().signInWithEmailAndPassword(this.email,this.password).then(function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(n){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=n.user,i.next=3,t.login({user:s,method:{type:"email",id:t.email},isUpdate:e});case 3:return i.next=5,t.loginSuccess();case 5:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(e){console.log(e),"auth/user-not-found"===e.code?t.createdUserByEmail():(t.showLoginOverlay=!1,t.$toast(e.message))}))}else this.$toast("Please input password");else this.$toast("Please input email")},createdUserByEmail:function(){var t=this;d["a"].auth().createUserWithEmailAndPassword(this.email,this.password).then((function(e){console.log("createUserWithEmailAndPassword => ",e),t.loginByEmail()})).catch((function(e){console.log(e),t.$toast(e.message)}))},loginByGoogle:function(){var t=this,e=this.oldUser.isAnonymous;this.showLoginOverlay=!0,console.log("Login by google");var i=new d["a"].auth.GoogleAuthProvider;d["a"].auth().signInWithPopup(i).then(function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(n){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(n),s=n.user,i.next=4,t.login({user:s,method:{type:"google",id:""},isUpdate:e});case 4:return i.next=6,t.loginSuccess();case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(e){console.log(e),t.showLoginOverlay=!1,t.$toast(e.message)}))},loginByFacebook:function(){var t=this,e=this.oldUser.isAnonymous;this.showLoginOverlay=!0;var i=new d["a"].auth.FacebookAuthProvider;d["a"].auth().signInWithPopup(i).then(function(){var i=Object(r["a"])(regeneratorRuntime.mark((function i(n){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(n),s=n.user,i.next=4,t.login({user:s,method:{type:"facebook",id:""},isUpdate:e});case 4:return i.next=6,t.loginSuccess();case 6:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(e){t.showLoginOverlay=!1,t.$toast(e.message)}))},toPhoneLogin:function(){this.$router.push("/phone-login")}})},y=w,C=(i("4fde"),i("2877")),O=Object(C["a"])(y,n,s,!1,null,null,null);e["default"]=O.exports},bca0:function(t,e,i){"use strict";i("3cd0")},c625:function(t,e,i){"use strict";i("3cd0"),i("5cc2")},dfaf:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}}}]);
//# sourceMappingURL=login.7d8a886f.js.map