(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fa77248"],{"02de":function(t,e,n){"use strict";function r(t){return"none"===window.getComputedStyle(t).display||null===t.offsetParent}n.d(e,"a",(function(){return r}))},1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),h=n("9263"),d=n("d039"),p=[].push,f=Math.min,g=4294967295,v=!d((function(){return!RegExp(g,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(o(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,a);var s,c,u,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,d+"g");while(s=h.call(v,r)){if(c=v.lastIndex,c>f&&(l.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&p.apply(l,s.slice(1)),u=s[0].length,f=c,l.length>=a))break;v.lastIndex===s.index&&v.lastIndex++}return f===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(f)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var h=a(t),d=String(this),p=s(h,RegExp),b=h.unicode,m=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),y=new p(v?h:"^(?:"+h.source+")",m),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===d.length)return null===l(y,d)?[d]:[];var A=0,x=0,k=[];while(x<d.length){y.lastIndex=v?x:0;var C,R=l(y,v?d:d.slice(x));if(null===R||(C=f(u(y.lastIndex+(v?0:x)),d.length))===A)x=c(d,x,b);else{if(k.push(d.slice(A,x)),k.length===w)return k;for(var S=1;S<=R.length-1;S++)if(k.push(R[S]),k.length===w)return k;x=A=C}}return k.push(d.slice(A)),k}]}),!v)},"15a1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADfElEQVRYR62XXUgUURTH/2fWog8snRWCnjL3WijWQxRFLxVEXw+9ZBhEWom4s33pQwT1WiFBBrWz9SBBoA+K0VNRBNVLHySUlCU7m64ERh/ObhZU5M6JiT5Wd3bvHeu+zMP8z//87r1zzz1D8DHKzMQKJtQ4zJUgVBGjBsBCEJJgJAmUdEBJ0MQIEHieCoeey+xJJnDfu4kdOE0ANanoszRDBPRknO+x9IGqEa9YKYBuxi9NI/HUXOO2Ieb7BtBNqxtArc9Ze8jptm2ENvoC0E2rHcCRf08OMHAqZYjjygB6NLEZxDf+R3LXg9ipH4ssuaIMUBq1ThPh2P8CcIB1aUPcUwcwrTsErJMAvCZCZ4bxIMCsM2lVYKca7hO86G8sZRwKhNLh8qQygG4mhieb5IYS08GxSOiCl2kwltjADteBUAeipN1csRxE7APA8hRnGzBhdyosOgutUkn7cAnNmtiVCotYPp1nHSg1LYuAkGQLBjRNa/jQXNH3L9+KJ4BuWtcBbFE07iXWusYiFVcV9ZNkngBB0zIZCPszpMcAdc0g7nobDr1TjfVegZi1D4wOVZPJU6K3AHc5TtGVdKT8qcwj711QGktcI+btMoMC7z8xcDJliLZCHgUvI92UnwYFwF7bEDt8nYJssR61zoLQopCokKTFNsQ55TowVahHrf0gOiErToUInAzWpw+Ku1M10n7gd8CCM/1zJ+bMrmX3eiba6n9F6L5thNZOGyA7MBh9tZIp0+izUfk6b3ZRaXJv+ddsL+UV8JrxNFq1NbYhHkoB5pvxxR+NyiHVZdZNy+2a3O6p4GBwOGVUXpQC6G4hcrAJQIcdEbdkxu573Yz3A7SsoJbQaoeF22n9Gd6lOJZoY+ajv1QPiajzG9D9OU+JLYm9XKRx0RMAJRLYnbYheqQAnlWQ8QUa4gAsMA2C+BkzZhKwAoxqEDybzuxkASbxPhJKSAF0Mz4I0BKVpfehuWEbIuf45mxBWdtgsVMcGPdhrCZlNNoRkXPB5QAEY0OrmDOP1FyVVTdtQ2z2UnsAJBqY+bKytVw4AA077WbxQglAN63VAB0GuE7uLVXchIbWfMnd6LyVsOz84MKMFthDGurBWCpNNVkwAEa7155P9ZGX4kt9M4KZ4m2AVuUASwlYDHAZQEH3xxnAKANvtJ9PfgOiUXxHu31IKH3IPwCOVzMwJWapXAAAAABJRU5ErkJggg=="},"198f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAABMklEQVQoU33RQSuEURTG8f9zJsViRFnZm/IRlKUVZWFS7GwGn0BKNpJ8hVmbaZKtjZTNiIWYBTbWFiQbSjbvObqad3pjuKvbub9zzr3nCiAiBNQiYk1SBfgAToEdSQ/JqIuaETEmaRPoAGVgOSK2JS1JOk9wFagCs5KylJ2viJgCWsCk3P1aUk3STRHle3c/knSYKr4Dw5KiH4yIDWAwwWdgQtLbH3APeEmwAbQl1X/CiBgA7oGFBCsRcSZpUdJl4SEJ1d3dSqXSSppfmuM00IiIK0kddy+bWdXdL8xsXdLnN+ziIWAO2AJOUqKku/w8tZ4HRgoJqcIx8Fi4c1tZlu2a2WghOOPuHTN7LcRavdZ5MMuyppntS7otTuEXjIgDIME0lt7qB8eBJ0n+L+z3Oyn2Bd3Vi9FEVZ7OAAAAAElFTkSuQmCC"},"1c1e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chat-home-root"},[r("img",{staticClass:"list-banner",attrs:{src:n("ec24")},on:{dblclick:t.showRecharge}}),r("van-pull-refresh",{directives:[{name:"show",rawName:"v-show",value:t.chats&&t.chats.length>0,expression:"chats && chats.length > 0"}],attrs:{"pulling-text":"Pull down to refresh...","loosing-text":"Release to refresh...","loading-text":"Loading..."},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[r("van-list",{staticClass:"card-list",attrs:{"loading-text":"Loading...","finished-text":"Loading...",finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.chats,(function(e,n){return r("div",{key:n,staticClass:"chat-card-wrap",on:{click:function(n){return t.goChatDetail(e)}}},[r("ChatCard",{attrs:{chat:e,userdiamond:t.profile.diamond}})],1)})),0)],1),!t.chats||t.chats.length<1?r("div",{staticClass:"loading-list"},[r("van-loading",{attrs:{size:"24px",color:"#1989fa",vertical:""}},[t._v("Loading...")])],1):t._e(),t.connectShow?r("Connect",{key:Date.now(),attrs:{uid:t.curHost.uid,poster:t.curHost.avatar},on:{close:t.closeConnect}}):t._e(),t.showRechargeTips?r("RechargeCard",{staticClass:"recharge-dialog",on:{leftRecharge:function(e){t.showRechargeTips=!1}}}):t._e()],1)},i=[],a=(n("99af"),n("4160"),n("c975"),n("0d03"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("159b"),n("96cf"),n("89ba")),o=(n("4391"),n("58e6")),s=(n("93b0"),n("2bdd")),c=(n("bca0"),n("543e")),u=n("8bbf"),l=n.n(u),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"chat-card-root"},[r("van-image",{attrs:{src:t.chat.avatar,width:"100%",height:"100%","lazy-load":"",fit:"cover"}}),0===t.chat.chatStatus?r("div",{staticClass:"chat-card-status offline"},[t._v(" Offline ")]):t._e(),1===t.chat.chatStatus?r("div",{staticClass:"chat-card-status online"},[t._v(" Online ")]):t._e(),2===t.chat.chatStatus?r("div",{staticClass:"chat-card-status busy"},[t._v("Busy")]):t._e(),r("div",{staticClass:"chat-card-bottom"},[r("div",{staticClass:"info"},[r("div",{staticClass:"name"},[t._v(t._s(t.chat.nickname))]),r("div",{staticClass:"price"},[t._v(" "+t._s(t.chat.preMinuteDiamond)+" "),r("van-icon",{attrs:{name:n("802d")}}),t._v("/min ")],1),r("div",{staticClass:"age"},[r("van-icon",{attrs:{name:n("198f"),color:"#fff",size:"12"}}),t._v(" "+t._s(t.chat.age)+" ")],1)]),r("div",{staticClass:"video-call"},[r("img",{staticClass:"video-button",attrs:{src:n("c4e3")},on:{click:function(e){return t.connect(t.chat)}}})])]),t.connectShow?r("Connect",{key:Date.now(),attrs:{uid:t.curHost.uid,poster:t.curHost.avatar},on:{close:t.closeConnect}}):t._e(),t.showRechargeTips?r("RechargeCard",{staticClass:"recharge-dialog",on:{leftRecharge:function(e){t.showRechargeTips=!1}}}):t._e()],1)},d=[],p=(n("a4d3"),n("4de4"),n("1d1c"),n("7a82"),n("e439"),n("dbb4"),n("b64b"),n("5319"),n("2fa7")),f=(n("3cd0"),n("283e")),g=n.n(f),v=g.a,b=(n("bf24"),n("44bf")),m=n("f38b"),y=n("af82"),w=n("5880"),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recharge-page",attrs:{id:"recharge_page"}},[r("div",{staticClass:"main"},[r("div",{staticClass:"left-bar"},[r("van-icon",{attrs:{name:"cross"},on:{click:t.onClickLeft}})],1),t._m(0),r("div",{staticClass:"payments",attrs:{id:"payments"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.showStripePopup,expression:"!showStripePopup"}],staticClass:"pay-methods"},[r("div",{staticClass:"pay-method paypal",on:{click:function(e){return t.startPay(t.curProduct.productIosId,t.newPayMethods[1].payParams)}}},[t._m(1),r("img",{staticClass:"pay-icon",attrs:{src:t.newPayMethods[1].icon}}),t._m(2)]),r("div",{staticClass:"pay-method stripe",on:{click:function(e){return t.startPay(t.curProduct.productIosId,t.newPayMethods[0].payParams)}}},[r("img",{staticClass:"stripe",attrs:{src:n("452f")}})])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showStripePopup,expression:"showStripePopup"}],staticClass:"stripe-popup"},[t.stripeRechargeSuccess?t._e():r("form",{attrs:{id:"payment-form"}},[r("div",{attrs:{id:"card-element"}}),t._m(3),r("p",{staticClass:"success-nohide",attrs:{id:"card-error",role:"alert"}}),r("p",{staticClass:"result-message hidden success-nohide"},[t._v(" Payment succeeded, see the result in your "),r("a",{attrs:{href:t.stripePaySuccessLink,target:"_blank"}},[t._v("Stripe dashboard.")]),t._v(" Refresh the page to pay again. ")])]),t.stripeRechargeSuccess?r("div",{staticClass:"success-tips"},[r("p",[t._v(" Payment succeeded, see the result in your "),r("a",{attrs:{href:t.stripePaySuccessLink,target:"_blank"}},[t._v("Stripe dashboard.")])]),r("p",[t._v("Refresh the page to pay again.")])]):t._e()])])]),r("van-popup",{staticClass:"paypal-popup",attrs:{closeable:"","close-icon-position":"top-left"},on:{close:t.closePayPage},model:{value:t.showPaypalPopup,callback:function(e){t.showPaypalPopup=e},expression:"showPaypalPopup"}},[r("iframe",{attrs:{src:t.PayPalUrl}})]),r("van-overlay",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"loading-overlay"},[r("van-loading",{attrs:{size:"24px",color:"#1989fa",vertical:""}},[t._v("Loading...")])],1)],1)},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"recharge-tips"},[t._v(" Tip girls "),n("strong",[t._v("$1.99")]),t._v(" for a video chat ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"paypal"},[n("span",{staticClass:"with"},[t._v("Pay with ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"paypal"},[n("span",{staticClass:"pay"},[t._v("Pay")]),n("span",{staticClass:"pal"},[t._v("Pal")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{attrs:{id:"submit"}},[n("div",{staticClass:"spinner hidden",attrs:{id:"spinner"}}),n("span",{attrs:{id:"button-text"}},[t._v("Pay")])])}],k=(n("87d0"),n("e41f")),C=(n("c625"),n("b650")),R=(n("433b"),n("d399")),S=(n("8a4e"),n("6e47"));function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(n,!0).forEach((function(e){Object(p["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var L="pk_live_Zt23ptBqWWJ8as6k2MBUF3xn00XviuaLpZ",P=window.Stripe(L);l.a.use(k["a"]).use(C["a"]).use(R["a"]).use(S["a"]).use(c["a"]);var B={data:function(){return{dialog:!1,products:[],curProduct:{},showUserInfo:!1,showRechargePopup:!1,showStripePopup:!1,stripeRechargeSuccess:!1,stripePaySuccessLink:"",useNewMethods:!1,PayPalUrl:null,showPaypalPopup:!1,showLoading:!1,balance:0,payMethods:[{payway:"9",name:"PAYTM",icon:"https://lichat.me/pay_way_paytm826.png",payParams:"paytm_in"},{payway:"11",name:"PhonePe",icon:"https://lichat.me/pay_way_phonepe1123.png",payParams:"wallet_in"},{payway:"8",name:"UPI",icon:"https://lichat.me/pay_way_upi0826.png",payParams:"upi_in"},{payway:"10",name:"EBanking",icon:"https://lichat.me/pay_way_ebanking826.png",payParams:"ebanking_in"}],newPayMethods:[{name:"Stripe",icon:n("15a1"),payParams:"stripe"},{name:"PayPal",icon:n("1fe4"),payParams:"paypal"}]}},computed:E({},Object(w["mapState"])(["profile"])),created:function(){this.$route.query.token&&localStorage.setItem("token",this.$route.query.token),this.loadProfile()},methods:E({},Object(w["mapMutations"])(["updateProfile"]),{sleep:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||(e=500),t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),loadPayMethods:function(t){console.log("LoadPayMethods : ",t)},loadProfile:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadPayMethods();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.curProduct={diamond:200,money:1.99,productIosId:"com.vfun.200d"};case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),diamondHandler:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("Diamond handler > ",e),this.curProduct=e,this.showRechargePopup=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),startPay:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.showLoading=!0,"paypal"!==n){t.next=15;break}return t.next=4,y["k"](e);case 4:if(r=t.sent,i=r.data,a=r.status,console.log("StartPay => ".concat(a," + "),i),0===a){t.next=10;break}return t.abrupt("return");case 10:this.showPaypalPopup=!0,this.PayPalUrl=i,this.showRechargePopup=!1,t.next=30;break;case 15:if("stripe"!==n){t.next=21;break}console.log("stripe pay"),this.showRechargePopup=!1,this.showStripe(e),t.next=30;break;case 21:return t.next=23,y["m"](e,n);case 23:if(o=t.sent,s=o.data,c=o.status,console.log("StartPay => ".concat(c," + }"),s),0===c){t.next=29;break}return t.abrupt("return");case 29:window.location.href=s.payUrl;case 30:this.showLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),closePayPage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showLoading=!0,t.next=3,this.sleep(5e3);case 3:return t.next=5,y["p"]();case 5:n=t.sent,r=n.status,i=n.data,this.balance=0===r?i:0,console.log("Close PayPage - ",e,i),this.balance>0&&this.$toast("Recharge Success"),this.showLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onClickLeft:function(){this.$emit("leftRecharge",this.balance),this.showStripePopup=!1,R["a"].clear()},showStripe:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a,o,s,c,u,l,h,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.showStripePopup=!0,!this.stripeRechargeSuccess){t.next=4;break}return console.log("Again use stripe, need refresh the page."),t.abrupt("return");case 4:return n=this,t.next=7,y["l"](e);case 7:if(r=t.sent,i=r.status,a=r.data,0===i){t.next=12;break}return t.abrupt("return");case 12:o=P.elements(),s={base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{fontFamily:"Arial, sans-serif",color:"#fa755a",iconColor:"#fa755a"}},c=o.create("card",{style:s}),u=function(t){t?(document.querySelector("#submit").setAttribute("disabled","true"),document.querySelector("#spinner").classList.remove("hidden"),document.querySelector("#button-text").classList.add("hidden")):(document.querySelector("#submit").removeAttribute("disabled"),document.querySelector("#spinner").classList.add("hidden"),document.querySelector("#button-text").classList.remove("hidden"))},l=function(t){u(!1),n.stripeRechargeSuccess=!0,n.stripePaySuccessLink="https://dashboard.stripe.com/test/payments/"+t,document.querySelector(".result-message").classList.remove("hidden"),document.querySelector("#submit").setAttribute("disabled","true"),n.closePayPage(1)},h=function(t){u(!1);var e=document.querySelector("#card-error");e.textContent=t,setTimeout((function(){e.textContent=""}),5e3)},d=function(t,e,r){u(!0),t.confirmCardPayment(r,{payment_method:{card:e}}).then((function(t){t.error?h(t.error.message):(l(t.paymentIntent.id),n.showStripePopup=!1)}))},c.mount("#card-element"),c.on("change",(function(t){t.empty?document.querySelector("#submit").setAttribute("disabled","true"):document.querySelector("#submit").removeAttribute("disabled"),document.querySelector("#card-error").textContent=t.error?t.error.message:"";var e=document.getElementById("payment-form");e.addEventListener("submit",(function(t){t.preventDefault(),d(P,c,a)}))}));case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),mounted:function(){this.loadData()}},I=B,j=(n("4fc7"),n("2877")),T=Object(j["a"])(I,A,x,!1,null,null,null),_=T.exports;function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(n,!0).forEach((function(e){Object(p["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}l.a.use(v).use(b["a"]);var U={name:"chat-card",components:{Connect:m["a"],RechargeCard:_},data:function(){return{curHost:{},connectShow:!1,showRechargeTips:!1}},props:{chat:{type:Object,default:function(){return{}}}},computed:z({},Object(w["mapState"])(["profile","inDebug"])),methods:z({},Object(w["mapMutations"])(["updateProfile"]),{loadProfile:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["o"]();case 2:if(e=t.sent,n=e.data,r=e.status,0===r){t.next=8;break}return console.log("LoadProfile Failed => ",n),t.abrupt("return");case 8:this.updateProfile(n),localStorage.setItem("profile",JSON.stringify(n));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),queryBalance:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["p"](this.profile.uid);case 2:return e=t.sent,n=e.status,r=e.data,console.log("QueryBalance => ",n,r),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),connect:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token"),r=localStorage.getItem("isManulLogin"),i=!n||"true"!==r&&this.profile.diamond<1,!i){t.next=7;break}return this.$toast("Please Login"),this.$router.replace("/login?fromHome"),t.abrupt("return");case 7:return a=window.location.href,/inTest/gi.test(a)&&(e.uid=0xbbaca5f2c1a6c),this.inDebug&&(e.uid=0xbbaca5f2c1a6c),console.log("Connect => ",e.uid," => ",e),t.next=13,this.queryBalance();case 13:if(o=t.sent,o&&!(o<100)){t.next=17;break}return this.showRechargeTips=!0,t.abrupt("return");case 17:this.curHost=e,this.connectShow=!0;case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),closeConnect:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.connectShow=!1,t.next=3,y["p"](this.profile.uid);case 3:if(e=t.sent,n=e.status,r=e.data,console.log("CloseConnect => ",n,r),0===n){t.next=9;break}return t.abrupt("return");case 9:r<100&&(console.log("no balance and noFirstUse"),this.showRechargeTips=!0);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),rechargeNow:function(){this.$router.push("/recharge"),this.showRechargeTips=!1}})},H=U,M=(n("46be"),Object(j["a"])(H,h,d,!1,null,null,null)),Q=M.exports;l.a.use(o["a"]).use(s["a"]).use(c["a"]);var V={components:{ChatCard:Q,Connect:m["a"],RechargeCard:_},data:function(){return{page:1,chats:[],refreshing:!1,loading:!1,finished:!0,profile:{},lastDBBanner:0,connectShow:!1,curHost:{},ruid:Math.random().toString().substr(2)}},created:function(){console.log("Home Created")},methods:{closeConnect:function(){this.connectShow=!1},showRecharge:function(){Date.now()-this.lastDBBanner<1e3&&(this.$router.push("/recharge?showInfo"),console.log("Router push recharge")),this.lastDBBanner=Date.now()},moreToPersonal:function(){this.$router.push("/recharge")},getUrlparam:function(t,e){e||(e=window.location.href);var n=e.indexOf("?");if(n<0)return null;e=e.substr(n+1);var r=e.split("&"),i=null;return r.forEach((function(e){var n=e.split("=");n[0]!==t||(i=n[1])})),i},countAccess:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(localStorage.getItem("trackInfo")||"{}"),n=JSON.parse(localStorage.getItem("profile")||"{}").uid,e.source||(e.source=e.appID||305),e.refby||(e.refby=e.appID||305),t.next=6,y["s"](n,e.source,e.refby);case 6:r=t.sent,i=r.status,a=r.msg,console.log("CountAccess: ",i,a);case 10:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loadData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["f"](this.ruid,this.page);case 2:e=t.sent,n=e.data,r=e.status,this.refreshing=!1,this.loading=!1,0===r&&(i=n.records,a=n.total,1===this.page?this.chats=i||[]:this.chats=this.chats.concat(i||[]),this.chats.length>=a?this.finished=!0:this.finished=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onLoad:function(){this.page=this.page+1,this.loadData()},onRefresh:function(){this.page=1,this.loadData()},goChatDetail:function(t){console.log("chat detail => ",t)},queryBalance:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y["p"](this.profile.uid);case 2:return e=t.sent,n=e.status,r=e.data,console.log("QueryBalance => ",n,r),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),rechargeNow:function(){this.$router.push("/recharge?showInfo")},handleFrom:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.getUrlparam("from"),e){t.next=3;break}return t.abrupt("return");case 3:if(r=this.getUrlparam("uid"),r){t.next=6;break}return t.abrupt("return");case 6:if(i=localStorage.getItem("token"),i){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.queryBalance();case 11:if(a=t.sent,console.log("HandlerFrom: Balance => ",a),a&&!(a<100)){t.next=16;break}return this.showRechargeTips=!0,t.abrupt("return");case 16:this.curHost.uid=r,this.curHost.avatar=n("cf05"),this.connectShow=!0;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.loadData(),this.handleFrom()},watch:{$route:function(t,e){console.log("Router change: ",t," => ",e),/\/login/gi.test(e.path)&&(console.log("From Login, Refresh List.",(new Date).toString()),this.chats=[],this.page=1,this.loadData())}}},W=V,J=(n("a415"),Object(j["a"])(W,r,i,!1,null,null,null));e["default"]=J.exports},"1fe4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD9UlEQVRYR7WWW2wUZRTH/9/slNKCVdC13dqEVmZ2u4tRq6aynbWCUVFblAiaQiSG2N16iRo18mLUb408eYmJiWhqDE+UB2PUB6IxakNKEwWUEEzBrqEG2+ysl5Zlb2x35pgqJd2db/bSLfN6Lv9fzvnOnMNQ5FO18ChA/mI+8zYCogyYIOB3MEwywuHxw/yzUrHMzkHR+IMM+KJUguJ2doQY7Y6M8GE7P1sAdyD8EhG9XR3AxWgmrR8fee0HUS5bALWLfwSG0JIAEIbGR/mOigDcGv+OgI1LAgCAKKdERt/8rTCffQUC/CwILUsGwLBR9BaEAG7/K9eRVPPHUonP5aFKADxd/C6T4VshAJnHzUTMRWQ0lgUo1/3oqG3Ikiy/WnYFVC08ANCHIgHKJobNzLkNZYkvcMrct9nIqWp3LOQdXRgrbIES4O8wwosiETMzPULZVKASAGIsmnr2hSaAndUnDQV8XXY+XgigauEvAdosBEjGTpAxe2MlAKar+VD6kb7u/2IYe0Lvb/+kBAA/BcBjFWFpIz4pAVRbCcCFB3p/zinujosxw3rQe2m8LRVo8b9bVyfFEwAkgcgpIz7ZXok4ltX+knzymXULYooDKP43Ophk/iQUMWnYSExV9AAz23dGDKdTKRvA3cX7iGFIOAFm7nMzoW8pswKpTO9DvxrXr725wL94BdwBzonwuhBgNvWpmZ7eVgyAQElqbjmW1bqvNVwua7sIz+kh7/u2j1AN8CEQ+kQiRmr6G+RS9xTaCOxvtqxGn21ZE8t1aW3m6tVr7CAdpuScGvD8ZQ+g8aMAbhUluOCsP5rz+uR5G62or6crVzlp+fJVZbWFYVDv9+ZtWMsUqBo/B6DBkpCxZPzxR1eUJWTjxEA90aDv4EJzHkD7et5qOHBG2H/ZcfL8Y9tuWCwAgZ6OBX17C+PzABR/eBOT6CuRiHlVw/eJLfcv4j5gaQB79GD7HlHePAA1EH4eRO+JHGfXtn2dvqNzUwUVOAmwA2Q6DsQGVMshInyEaoB/AMJTIpGM/5ZDWY/6//+84COGfSBMMMI/DGbEkGrH/+xXIuXA5lWg2BmW7L37tHHN1YL9AOhBr+1lVQoivwUanwLgEk3A+R0Py1QjW5cQw4Te720rJWRnvwSg3M4bmIy5EbR+DvlEfOdWmxVMB/Wgr6dqALefd5IE4e1uXrFyJLG1R3iEEOitWNC3u2oAJcA3MJsdkGtuQureO4VbkBF2RUPefVUDFEvQODi2H8B24RyT1BkNeY5cVoCmwbHTBLiFIjPZlfrLNyUvK0Djx2NnQGi1zD9wLBb03rZY8bm4sua3ae9YK2QrQEbOHJ/Z1TFTDcC/hpByMD0X+9QAAAAASUVORK5CYII="},"283e":function(t,e,n){
/*!
 * Vue-Lazyload.js v1.2.3
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function e(t){t=t||{};var e=arguments.length,i=0;if(1===e)return t;for(;++i<e;){var a=arguments[i];m(t)&&(t=a),r(a)&&n(t,a)}return t}function n(t,n){for(var a in y(t,n),n)if("__proto__"!==a&&i(n,a)){var o=n[a];r(o)?("undefined"===A(t[a])&&"function"===A(o)&&(t[a]=o),t[a]=e(t[a]||{},o)):t[a]=o}return t}function r(t){return"object"===A(t)||"function"===A(t)}function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function o(t,e){for(var n=!1,r=0,i=t.length;r<i;r++)if(e(t[r])){n=!0;break}return n}function s(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),r=[],i=t.parentNode,a=i.offsetWidth*e,o=void 0,s=void 0,c=void 0;n=n.trim().split(","),n.map((function(t){t=t.trim(),o=t.lastIndexOf(" "),-1===o?(s=t,c=999998):(s=t.substr(0,o),c=parseInt(t.substr(o+1,t.length-o-2),10)),r.push([c,s])})),r.sort((function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0}));for(var u="",l=void 0,h=r.length,d=0;d<h;d++)if(l=r[d],l[0]>=a){u=l[1];break}return u}}function c(t,e){for(var n=void 0,r=0,i=t.length;r<i;r++)if(e(t[r])){n=t[r];break}return n}function u(){if(!k)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(e){t=!1}return t}function l(t,e){var n=null,r=0;return function(){if(!n){var i=Date.now()-r,a=this,o=arguments,s=function(){r=Date.now(),n=!1,t.apply(a,o)};i>=e?s():n=setTimeout(s,e)}}}function h(t){return null!==t&&"object"===(void 0===t?"undefined":g(t))}function d(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function p(t){for(var e=t.length,n=[],r=0;r<e;r++)n.push(t[r]);return n}function f(){}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":g(t))},y=function(t,e){if(null===t||void 0===t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,a=0;++a<i;)for(var o=Object(arguments[a]),s=Object.getOwnPropertySymbols(o),c=0;c<s.length;c++){var u=s[c];n.call(o,u)&&(r[u]=o[u])}return r},w=Object.prototype.toString,A=function(e){var n=void 0===e?"undefined":g(e);return"undefined"===n?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===n||e instanceof String?"string":"number"===n||e instanceof Number?"number":"function"===n||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":(n=w.call(e),"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":"[object Promise]"===n?"promise":t(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Map Iterator]"===n?"mapiterator":"[object Set Iterator]"===n?"setiterator":"[object String Iterator]"===n?"stringiterator":"[object Array Iterator]"===n?"arrayiterator":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object")},x=e,k="undefined"!=typeof window,C=k&&"IntersectionObserver"in window,R={event:"event",observer:"observer"},S=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if(k)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return k&&window.devicePixelRatio||t},E=function(){if(k){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),L={on:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];E?t.addEventListener(e,n,{capture:r,passive:!0}):t.addEventListener(e,n,r)},off:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,r)}},P=function(t,e,n){var r=new Image;r.src=t.src,r.onload=function(){e({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src})},r.onerror=function(t){n(t)}},B=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},I=function(t){return B(t,"overflow")+B(t,"overflow-y")+B(t,"overflow-x")},j=function(t){if(k){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(I(e)))return e;e=e.parentNode}return window}},T={},_=function(){function t(e){var n=e.el,r=e.src,i=e.error,a=e.loading,o=e.bindType,s=e.$parent,c=e.options,u=e.elRenderer;v(this,t),this.el=n,this.src=r,this.error=i,this.loading=a,this.bindType=o,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=c,this.rect=null,this.$parent=s,this.elRenderer=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return b(t,[{key:"initState",value:function(){this.el.dataset.src=this.src,this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,r=t.error,i=this.src;this.src=e,this.loading=n,this.error=r,this.filter(),i!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;d(this.options.filter).map((function(e){t.options.filter[e](t,t.options)}))}},{key:"renderLoading",value:function(t){var e=this;P({src:this.loading},(function(n){e.render("loading",!1),t()}),(function(){t(),e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")}))}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.loaded||T[this.src]?(this.state.loaded=!0,e(),this.render("loaded",!0)):void this.renderLoading((function(){t.attempt++,t.record("loadStart"),P({src:t.src},(function(n){t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),T[t.src]=1,e()}),(function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)}))}))}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),D="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],U={rootMargin:"0px",threshold:0},H=function(t){return function(){function e(t){var n=t.preLoad,r=t.error,i=t.throttleWait,a=t.preLoadTop,o=t.dispatchEvent,s=t.loading,c=t.attempt,h=t.silent,d=void 0===h||h,p=t.scale,f=t.listenEvents,g=(t.hasbind,t.filter),b=t.adapter,m=t.observer,y=t.observerOptions;v(this,e),this.version="1.2.3",this.mode=R.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:d,dispatchEvent:!!o,throttleWait:i||200,preLoad:n||1.3,preLoadTop:a||0,error:r||D,loading:s||D,attempt:c||3,scale:p||O(p),ListenEvents:f||z,hasbind:!1,supportWebp:u(),filter:g||{},adapter:b||{},observer:!!m,observerOptions:y||U},this._initEvent(),this.lazyLoadHandler=l(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?R.observer:R.event)}return b(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map((function(e){t.push(e.performance())})),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),k&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,r){var i=this;if(o(this.ListenerQueue,(function(t){return t.el===e})))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var a=this._valueFormatter(n.value),c=a.src,u=a.loading,l=a.error;t.nextTick((function(){c=s(e,i.options.scale)||c,i._observer&&i._observer.observe(e);var a=Object.keys(n.modifiers)[0],o=void 0;a&&(o=r.context.$refs[a],o=o?o.$el||o:document.getElementById(a)),o||(o=j(e));var h=new _({bindType:n.arg,$parent:o,el:e,loading:u,error:l,src:c,elRenderer:i._elRenderer.bind(i),options:i.options});i.ListenerQueue.push(h),k&&(i._addListenerTarget(window),i._addListenerTarget(o)),i.lazyLoadHandler(),t.nextTick((function(){return i.lazyLoadHandler()}))}))}},{key:"update",value:function(e,n){var r=this,i=this._valueFormatter(n.value),a=i.src,o=i.loading,u=i.error;a=s(e,this.options.scale)||a;var l=c(this.ListenerQueue,(function(t){return t.el===e}));l&&l.update({src:a,loading:o,error:u}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick((function(){return r.lazyLoadHandler()}))}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=c(this.ListenerQueue,(function(e){return e.el===t}));e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),a(this.ListenerQueue,e)&&e.destroy())}}},{key:"removeComponent",value:function(t){t&&(a(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;C||t!==R.observer||(t=R.event),this.mode=t,t===R.event?(this._observer&&(this.ListenerQueue.forEach((function(t){e._observer.unobserve(t.el)})),this._observer=null),this.TargetQueue.forEach((function(t){e._initListen(t.el,!0)}))):(this.TargetQueue.forEach((function(t){e._initListen(t.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=c(this.TargetQueue,(function(e){return e.el===t}));return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===R.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach((function(n,r){n.el===t&&(--n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(r,1),n=null))}))}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach((function(r){return L[e?"on":"off"](t,r,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e].push(n)},this.$once=function(e,n){function r(){i.$off(e,r),n.apply(i,arguments)}var i=t;t.$on(e,r)},this.$off=function(e,n){n?a(t.Event.listeners[e],n):t.Event.listeners[e]=[]},this.$emit=function(e,n,r){t.Event.listeners[e].forEach((function(t){return t(n,r)}))}}},{key:"_lazyLoadHandler",value:function(){var t=this;this.ListenerQueue.forEach((function(e,n){e.state.loaded||e.checkInView()&&e.load((function(){!e.error&&e.loaded&&t.ListenerQueue.splice(n,1)}))}))}},{key:"_initIntersectionObserver",value:function(){var t=this;C&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(e){t._observer.observe(e.el)})))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach((function(t){t.isIntersecting&&n.ListenerQueue.forEach((function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}}))}))}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var r=t.el,i=t.bindType,a=void 0;switch(e){case"loading":a=t.loading;break;case"error":a=t.error;break;default:a=t.src}if(i?r.style[i]='url("'+a+'")':r.getAttribute("src")!==a&&r.setAttribute("src",a),r.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var o=new S(e,{detail:t});r.dispatchEvent(o)}}}},{key:"_valueFormatter",value:function(t){var e=t,n=this.options.loading,r=this.options.error;return h(t)&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),e=t.src,n=t.loading||this.options.loading,r=t.error||this.options.error),{src:e,loading:n,error:r}}}]),e}()},M=function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),k&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},Q=function(){function t(e){var n=e.lazy;v(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return b(t,[{key:"bind",value:function(t,e,n){var r=new W({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(r)}},{key:"update",value:function(t,e,n){var r=c(this._queue,(function(e){return e.el===t}));r&&r.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var r=c(this._queue,(function(e){return e.el===t}));r&&(r.clear(),a(this._queue,r))}}]),t}(),V={selector:"img"},W=function(){function t(e){var n=e.el,r=e.binding,i=e.vnode,a=e.lazy;v(this,t),this.el=null,this.vnode=i,this.binding=r,this.options={},this.lazy=a,this._queue=[],this.update({el:n,binding:r})}return b(t,[{key:"update",value:function(t){var e=this,n=t.el,r=t.binding;this.el=n,this.options=x({},V,r.value),this.getImgs().forEach((function(t){e.lazy.add(t,x({},e.binding,{value:{src:t.dataset.src,error:t.dataset.error,loading:t.dataset.loading}}),e.vnode)}))}},{key:"getImgs",value:function(){return p(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach((function(e){return t.lazy.remove(e)})),this.vnode=null,this.binding=null,this.lazy=null}}]),t}();return{install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=H(t),r=new n(e),i=new Q({lazy:r}),a="2"===t.version.split(".")[0];t.prototype.$Lazyload=r,e.lazyComponent&&t.component("lazy-component",M(r)),a?(t.directive("lazy",{bind:r.add.bind(r),update:r.update.bind(r),componentUpdated:r.lazyLoadHandler.bind(r),unbind:r.remove.bind(r)}),t.directive("lazy-container",{bind:i.bind.bind(i),update:i.update.bind(i),unbind:i.unbind.bind(i)})):(t.directive("lazy",{bind:r.lazyLoadHandler.bind(r),update:function(t,e){x(this.vm.$refs,this.vm.$els),r.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){r.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){i.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){i.unbind(this.el)}}))}}}))},"2bdd":function(t,e,n){"use strict";var r=n("d282"),i=n("02de"),a=n("5fbe"),o=n("a8c1"),s=n("543e"),c=Object(r["a"])("list"),u=c[0],l=c[1],h=c[2];e["a"]=u({mixins:[Object(a["a"])((function(t){this.scroller||(this.scroller=Object(o["c"])(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.loading||t.finished||t.error)){var e,n=t.$el,r=t.scroller,a=t.offset,o=t.direction;e=r.getBoundingClientRect?r.getBoundingClientRect():{top:0,bottom:r.innerHeight};var s=e.bottom-e.top;if(!s||Object(i["a"])(n))return!1;var c=!1,u=t.$refs.placeholder.getBoundingClientRect();c="up"===o?u.top-e.top<=a:u.bottom-e.bottom<=a,c&&(t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:l("placeholder")});return t("div",{class:l(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():e,this.loading&&t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||t(s["a"],{attrs:{size:"16"}},[this.loadingText||h("loading")])]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction?this.slots():e])}})},"336d":function(t,e,n){},"37ff":function(t,e,n){},4391:function(t,e,n){"use strict";n("3cd0"),n("dc22")},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},"452f":function(t,e,n){t.exports=n.p+"img/stripe-button.a99a1a0a.png"},"46be":function(t,e,n){"use strict";var r=n("83dd"),i=n.n(r);i.a},"4fc7":function(t,e,n){"use strict";var r=n("336d"),i=n.n(r);i.a},"58e6":function(t,e,n){"use strict";var r=n("d282"),i=n("1325"),a=n("3875"),o=n("a8c1"),s=n("543e"),c=Object(r["a"])("pull-refresh"),u=c[0],l=c[1],h=c[2],d=["pulling","loosing","success"];e["a"]=u({mixins:[a["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:Number,default:500},animationDuration:{type:Number,default:300},headHeight:{type:Number,default:50}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{untouchable:function(){return"loading"===this.status||"success"===this.status||this.disabled}},watch:{value:function(t){var e=this;this.duration=this.animationDuration,!t&&this.successText?(this.status="success",setTimeout((function(){e.setStatus(0)}),this.successDuration)):this.setStatus(t?this.headHeight:0,t)}},mounted:function(){this.scrollEl=Object(o["c"])(this.$el)},methods:{onTouchStart:function(t){!this.untouchable&&this.getCeiling()&&(this.duration=0,this.touchStart(t))},onTouchMove:function(t){this.untouchable||(this.touchMove(t),!this.ceiling&&this.getCeiling()&&(this.duration=0,this.startY=t.touches[0].clientY,this.deltaY=0),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(this.setStatus(this.ease(this.deltaY)),Object(i["c"])(t)))},onTouchEnd:function(){var t=this;!this.untouchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},getCeiling:function(){return this.ceiling=0===Object(o["d"])(this.scrollEl),this.ceiling},ease:function(t){var e=this.headHeight;return Math.round(t<e?t:t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4)},setStatus:function(t,e){this.distance=t;var n=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";n!==this.status&&(this.status=n)}},render:function(){var t=arguments[0],e=this.status,n=this.distance,r=this[e+"Text"]||h(e),i={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""},a=this.slots(e,{distance:n})||[-1!==d.indexOf(e)&&t("div",{class:l("text")},[r]),"loading"===e&&t(s["a"],{attrs:{size:"16"}},[r])];return t("div",{class:l()},[t("div",{class:l("track"),style:i,on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("div",{class:l("head")},[a]),this.slots()])])}})},"802d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASaSURBVHgBrVjbbhtFGP7+WR/ixFHdhKZKhWCrAhI3kEBB4ipbXgB4g75BmidoeAKaJ4h4AniDmhtuShtToUZKgLoKiprQUpe4zsHrHeb3Zu3dmdmDSz9pteuZ2Zlvv/8w/5jwGjh+7LnlPjyScIWDd9E7Afp+B0HwEhS00EeLvmi1MSGo6MD+rueVIL6SJG9CopHo7B2D+n39lRYCuYFB0CxKLJeM3PZclGhTAl7qIDuZ2Cp0B2f+Rh6pTDLyD29VBmqiPOSRCdFW1xpdv/8jJiEjt7wG6vRDphpHvnKeAeCrUbUAeNoFTTtARQB8T11RrtOnD74tRIaJyDrdVY9LVgIddT0/AwYybJtVC78zBfy8Px7HhC5XQRfKQFWgKCFjpJUIf/1fKmJ2XgGHp2MijPkKMFUC6pVx25lSau8YcqcLyeONRWhd3v/kdiYZufvldwaRUzXxdhc4sEzKmC2F90s1sy8i1e4lPyAidO+6ZyXj73g3JeQtKxGe1IbIRxgXp5AKZVZWySBEclNuLTUMMkLQbYMIm0WfII658vi5UQ3NlYbeAFKppMGFL24lyLAqKpG5iWFPjtMViXCxnPy9OJM9nhXSfYhoNVJnSEY4tKq/NIycLMRNNCI3hVzsn+hqNyJ1xNmOt4RAc9r90/xJ58pmG5uqlJPUFRF5YKizwreSQ1piY1+5UkUuZlP846MFlQxzVJVKGaGuYKSQx6YqCRIrUsZkG9qUQkJO4X10DFankfExXeUCD58B708nzTxwPKF2YTcx+DgICT3qhiq9SewdAQ8OgRMf8l9NPSldYfhLFEF8/+3oXKn/CV/N9fBvYPdF+BxfJwLBNQ3va3llT3l/T724WLXvM3l4od7f/meoRiaILphkOBr0RBeFultLd1wbWAk2TUEIVTq2C408O8/IXDYUAZPIIqIHRyCfCOmgk2isZ9QibKZaRn8cs5XMbjJrno6QA/lToilrsfoEJspLgAYZ0RJSoJloe6uSnl/my5gIl6ZT5jHW6NBnvzSF4ygyFDMVD1qwSMwmsjnvoXLurWf2aFmswwaa1+YnDOtiQVebHRnI7xOdly3ZVzcRpwB2aC4Luv2w7NQdtl42TcVE9I8KaLh+uGsPkDwBOGTuT3ETcZhz0aXv7BzKj56PVSqJpKlU+qcrxs7eZBONyNCHzbbaFjYSQxaqYaJjxE0U1cJptc7TV2HK75yEvxvjxem9GbPsCMRa9Diu9BysQ885/BVMiE0UVX4HBbYHVoYJPX4Z1sZVB3RtxhapG/T5vdaIbLyHaxu1jd81jq9M5M/esHS0oqf60g5xc+rI4k5zvat1yDacYJmWW6PgSWhW+aDZCgK5ZkzIZro2PVloK7+jt2ugqzU7kX5wI06EYU0oXBMLok1b33Df6vTHJ0oW64gLdz90fOVb1Chn7GHnRCzn7tQUyQd+6SiTkVao21DsrM1owhl8oysSIbUm4Aijslw2ouy1IDvq0MaH/htpRIZrogBYpUBFm/KCFatSqcowCbGBkn8ni8REZOLwf/e+pkD9a0X4WH2tOyQ3IqP8AdRS7b8ilsyK4j+Fh/p65aW2PQAAAABJRU5ErkJggg=="},"83dd":function(t,e,n){},"8a4e":function(t,e,n){"use strict";n("3cd0")},"93b0":function(t,e,n){"use strict";n("3cd0"),n("37ff")},a415:function(t,e,n){"use strict";var r=n("c1a7"),i=n.n(r);i.a},bca0:function(t,e,n){"use strict";n("3cd0")},bf24:function(t,e,n){"use strict";n("3cd0"),n("5cc2")},c1a7:function(t,e,n){},c4e3:function(t,e,n){t.exports=n.p+"img/video-button.6fb07b13.png"},c625:function(t,e,n){"use strict";n("3cd0"),n("5cc2")},c975:function(t,e,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,a=n("b301"),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:s||c},{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},cf05:function(t,e,n){t.exports=n.p+"img/logo.f6dac984.png"},dc22:function(t,e,n){},ec24:function(t,e,n){t.exports=n.p+"img/banner.c5678a91.png"}}]);
//# sourceMappingURL=chunk-3fa77248.67e64ec6.js.map